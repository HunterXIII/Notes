# 1. Эволюция вычислительных сетей
### Системы пакетной обработки

В 50-х годах 20-го века вычислительные центры строились на базе больших громоздких и дорогих компьютеров универсального назначения, т. е. на базе ___мейнфреймов___. <mark style="background: #FFF3A3A6;">Они не были предназначены для интерактивной работы пользователей и работали в режиме пакетной обработки.
</mark>
Основным носителем информации были ___перфокарты___, которые передавались операторам мейнфрейма, а те в свою очередь загружали в мейнфрейм, примерно, для однодневной обработки. 

__Плюсы:__
- Самый эффективный режим использования вычислительной мощности
> _Пояснение:_ 
> Самая дорогая и мощная компонента мейнфрейма, а именно центральный процессор (ЦП) использовался постоянно (>90% времени)

__Минусы:__
- Большая цена ошибки, которая выражалась в потерянном рабочем дне, как самого мейнфрейма, так и обслуживающего персонала; в большом потреблении электроэнергии и т.п.
> _Основная причина:_ Неправильная перфокарта (Перепутан 0 и 1)
- Ненадёжный носитель информации в виде перфокарты
- Не было интерактивного режима
> Пользователи не обращались напрямую, а через операторов
- Все информационные ресурсы были централизованы 

#### Информационные ресурсы:
- Файлы любого формата
- База данных
- Периферийные устройства
- Вычислительная мощность (Оперативная память, внешняя память, процессор)
- Доступы (К другой сети, к внешней сети, к БД и т.д)
- Сайты, порталы, WEB-страницы

## Многотерминальные системы

По мере удешевлении процессоров в начале 60-х годов появились новые способы организации вычислительного процесса. 

 Появились _**интерактивные многотерминальные системы разделения времени**_. 

В таких системах мейнфрейм отдавался в распоряжение сразу нескольким пользователям посредством терминала. Реакция на действие пользователя не занимала много времени. 
Таким образом, у пользователей складывалась иллюзия единоличного владения мейнфреймом через терминал. Таким образом, стоит сказать о _псевдопараллельной обработки_ многотерминальной системы.

- __<mark style="background: #ABF7F7A6;">Централизованным оставалась вычислительная мощность, зато функция ввода/вывода стали распределённой</mark>.__

В этот период было актуально <mark style="background: #BBFABBA6;">имперический _закон Гроша_, который гласил, что производительность компьютера была прямо пропорциональна квадрату его стоимости.</mark>
> _Пример:_ Один компьютер за 1 миллион был лучше двух компьютеров за 500 тыс.

<mark style="background: #FFB86CA6;">Многотерминальные системы стали первым шагом к созданию локальных сетей.</mark>

## Глобальные сети

Сначала была решена задача попроще, а именно соединение мейнфрейма и терминала, удалённого на несколько сотен километров. <mark style="background: #ADCCFFA6;">Это задача решалась с помощью телефонных линий связи и модема.</mark>
> Модем: перевод аналогового сигнала в цифровой и обратно - __модуляция__

Чуть позже по той же схеме соединили два мейнфрейма между собой. 

Компьютеры получили возможность обмениваться данными в автоматическом режиме, что является базовым механизмом в любой вычислительной сети. 

В первых глобальных сетях были созданы три классические сетевые службы, которые используются и по сей день:
- Службы электронной почты
- Службы синхронизации БД
- Службы файлового обменаатический обмен данными

Кроме того в первых глобальных сетях были отработаны такие концепции:
- Многоуровневые построения коммуникационных протоколов
> _Пример:_ TCP/IP
- Коммутация пакетов
- Маршрутизация пакетов в составных сетях

Таким образом, исторически первыми появились глобальные сети, а не локальные.


## Локальные сети
```mermaid
graph LR;
	id1["Автономное использование\nнескольких компьютеров"]
	id2["Первые локальные\nвычислительные сети"]
	id1-->id2
```
В начале 70-х годов произошёл технологический прорыв в области производства компьютерных компонентов. __Появились большие интегральные схемы__. Их сравнительно невысокая стоимость и высокие функциональные возможности привели к созданию мини компьютеров, которые стали конкурентами мейнфреймам, закон Гроша перестал соответствовать действительности. Тем не менее первое время мини-компьютеры продолжали работать автономно. Это происходило по двум причинам: аппаратная и программная несовместимость. Однако в некоторых организациях мини-ЭВМ разных производителей связывали между собой нестандартными устройствами сопряжения. Таким образом, в то время создание сетей было творческой задачей или даже искусством.

В середине 80-х годов положение дел изменилось, поскольку появились стандартные сетевые технологии:
- Ethernet
- Token ring
- Arcnet

Мощным стимулом для появления этих технологий стало создание ___персонального компьютера(ПК)___, они стали идеальными элементами создания сетей, так как с одной стороны они являются достаточно мощными для работы сетевого ПО, а с другой стороны явно нуждаются в объединении вычислительной мощности для решения сложных задач, а также для разделения дорогих сетевых устройств. 

Таким образом, создание сети перестало быть искусством, а стало быть рутиной работой. Теперь для создания сетей было необходимо:
1. Приобрести стандартные сетевые адаптера. Например, Ethernet.
2. Приобрести стандартный кабель и соединить его с сетевыми адаптерами стандартными разъёмами
3. Установить на компьютер одну из популярных сетевых ОС (В то время: Netware от Novel).


> P.S. *Следующее, возможно, необязательно в этом билете*
## Современные тенденции 
### 1.
 В своём развитии глобальные сети догоняют локальные, а именно скорости в глобальных сетях становятся сопоставимыми со скоростями. Таким образом, в WAN создаются и разворачиваются сетевые службы и сервисы, которые по удобству и прозрачности сопоставимы со службами в LAN.
Fast Ethernet - 100 Мбит/с
Gb Ethernet - 1 Гбит/с
10Gb Ethernet - 10 Гбит/с

### 2.
 Раннее в сетях использовалось не интеллектуальное оборудование: повторители, мосты, концентраторы. На данный момент используется устройства: коммутаторы и маршрутизаторы(свичи и роутеры), которые поддерживают разнообразные сетевые протоколы и являются специализированными мощными мультипроцессорами, которые нужно настраивать, оптимизировать и администрировать.

### 3.
Мейнфреймы получили вторую жизнь в виде ___серверов___, однако перестали быть универсальными, и теперь их можно классифицировать по назначению: 
- ___Файловые сервера___, который в свою очередь можно разделить на сервера БД, облачные, игровые, видеохостинг и зеркальные
- ___Принт-сервера___ 
- ___Вычислительный сервер___ (для майнинга)
- ___Сервер унифицированных коммуникаций___ (ip-телефония, электронная почта, видео конференц связь и мессенджеры)
- ___Сервер информационной безопасности___ (СКУД, антивирус, VPN, firewall)
- ___Коммуникационный сервер___ 

### 4.
В начале передавалась только текстовая информация, по мере развития сетей в них стала передаваться мультимедийная информация, а также другие виды трафика, чувствительные к задержке. В современных сетях передаётся такая информация: 
- трафик реального времени 
- биометрия
- телеметрия
- ATM, связанная с транзакциямим
---

# 2. Основные программные и аппаратные компоненты сети
1. Аппаратный слой (мейнфреймы,  мини-ЭВМ, ПК, ноуты, смартфоны...)
2. Коммуникационное оборудование
3. Операционные системы
4. Сетевые приложения
На первых этапах развития сетей наибольшее значение и стоимость имел 1 слой, а именно аппаратный, однако на сегодняшний день 2 слой выходит на первый план по важности и стоимости.

<mark style="background: #FF5582A6;">???</mark>
Возможно:

1. Аппаратный (компьютерные платформы, которые используются в сети)
2. Коммуникационный(коммутаторы, маршрутизаторы, кабельная система) Сегодня коммуникационное устройство может представлять собой сложный специализированный мульти процессор который нужно конфигурировать оптимизировать и администрировать 
3. ОС должная должна иметь в сети несколько функций 
a. Уметь подключаться 
b. Безопасность 
c. Позволять наращивать число пользователей 
d. Разнообразные браузеры средства коллективной работы БД

---
# 3. Современные тенденции развития сетей и что даёт предприятию  использование сетей 

## Современные тенденции 

 В своём развитии глобальные сети догоняют локальные, а именно скорости в глобальных сетях становятся сопоставимыми со скоростями. Таким образом, в WAN создаются и разворачиваются сетевые службы и сервисы, которые по удобству и прозрачности сопоставимы со службами в LAN.
Fast Ethernet - 100 Мбит/с
Gb Ethernet - 1 Гбит/с
10Gb Ethernet - 10 Гбит/с

 Раннее в сетях использовалось не интеллектуальное оборудование: повторители, мосты, концентраторы. На данный момент используется устройства: коммутаторы и маршрутизаторы(свичи и роутеры), которые поддерживают разнообразные сетевые протоколы и являются специализированными мощными мультипроцессорами, которые нужно настраивать, оптимизировать и администрировать.

Мейнфреймы получили вторую жизнь в виде ___серверов___, однако перестали быть универсальными, и теперь их можно классифицировать по назначению: 
- ___Файловые сервера___, который в свою очередь можно разделить на сервера БД, облачные, игровые, видеохостинг и зеркальные
- ___Принт-сервера___ 
- ___Вычислительный сервер___ (для майнинга)
- ___Сервер унифицированных коммуникаций___ (ip-телефония, электронная почта, видео конференц связь и мессенджеры)
- ___Сервер информационной безопасности___ (СКУД, антивирус, VPN, firewall)

В начале передавалась только текстовая информация, по мере развития сетей в них стала передаваться мультимедийная информация, а также другие виды трафика, чувствительные к задержке. В современных сетях передаётся такая информация: 
- трафик реального времени 
- биометрия
- телеметрия
- ATM, связанная с транзакциямим

#### Что даёт предприятию использование сетей?
_Плюсы:_
- Повышение эффективности работы
- Разделение дорогостоящих ресурсов (Например, уменьшение количества принтеров)
- Более высокая отказоустойчивость(Дублирование узлов сети или технологий |Например, дублирование сервера, чтобы распределять запросы) информационных систем и аппаратного обеспечения предприятия
- Автоматизация технологических процессов (СЭД, Система контроля доступа, Интернет вещей)
- Возможность совместного использования данных и устройств (БД, СЭД)
- Оперативный доступ к обширной корпоративной информации 
- Совершенствование коммуникации (Intranet, Корпоративные мессенджеры (Microsoft Teams, ))
**СЭД** — система электронного документооборота.
**Intranet** - внутренний интернет, некий сайт
_Минусы:_
- Сложности, связанные с ПО 
- Обеспечение надёжности и производительности при транспортировке сообщений
- Вопросы, связанные с обеспечением безопасности (Аттаки, вирусы)

--- 
# 4. Что такое компьютерная сеть? Описание процесса передачи  информации.

___Компьютерная сеть___ - система, которая служит чтобы обеспечить обмен данными между вычислительными устройствами и/или программным обеспечением.

Сетевое приложение, сгенерировав данные разбивает их на фрагменты и упаковывает каждый фрагмент в новую структуру данных, добавляя заголовок и концевик, такой процесс называется ___инкапсуляция___. В заголовке: ip получателя и отправителя, длина пакеты, контрольная сумма, TTL (время жизни пакеты, измеряемое в хопах). 

Данные приходят на маршрутизатор, где они ___декапсулируются___ и маршрутизатор ищет соответствие ip адреса получателя со своей таблицей маршрутов. Если соответствие найдено, то __шлюз__ вновь инкапсулирует сетевой пакет и отправляет его по выходному порту, который нашёл в своей таблице. Если соответствие не найдено, то есть 3 варианта: 
1. Пакет удаляется
2. Пакет удаляется с уведомлением источника данных
3. Данные инкапсулируются в пакеты и отправляются по порту по умолчанию (настраиваемый выходной порт специально для таких целей)

Данные со шлюза с помощью разных каналов передачи данных через транзитные маршрутизаторы достигает шлюза сети назначения. Этот шлюз декапсулирует сетевой пакет, сверяется со своей таблицей маршрутизации, вновь инкапсулирует и отправляет хосту получателя. Получатель декапсулирует сетевой пакет, проверяет контрольную сумму. Если контрольная сумма корректна, то оставляет эти данные. Если же данные искажены, то уведомляет источника информации.

---
# 5. Сетевые устройства. Режимы передачи информации. 

___Коммутатор___ - это устройство, которое объединяет конечные устройства в локальную сеть. Коммутатор образует широковещательный домен.

__Маршрутизатор__ - это устройство, которое соединяет разные локальные сети между собой.  
У маршрутизатор есть следующие функции:
- Соединение сетей одного или разных типов
- Изоляция широковещательных доменов
- Поддержка таблицы маршрутизации и работающих протоколов маршрутизации
- Выбор маршрутов и пересылка IP-пакетов
- Доступ к глобальной сети и преобразование сетевых адресов
- Функции безопасности 

**Межсетевой экран (МСЭ)**
Межсетевой экран выполняет следующие задачи:
- Изоляция сетей с различным уровнем безопасности
- Реализация контроля доступа с использованием политик безопасности 
- Реализация аутентификации личности пользователя (Triple A- AAA - authorization authefication accounting)
- Реализация удалённого доступа => } VPN
- Поддержка шифрования данных => } VPN 
- Реализация преобразования сетевых адресов (Серый и белые адреса)
- Реализация других функций безопасности (НСД - несанкционированный доступ)

**Беспроводные устройства**
В широком смысле беспроводная сеть это та сеть, которая использует радиоволны, лазерные и инфракрасные сигналы, для замены некоторых или всех каналов передачи данных в локальной сети. В качестве беспроводных устройств можно использовать следующее:
1. Точки доступа,которые будут разделяться по режимам управления:
    1. Fat AP (Access port)
        Этот режим применяется в частных жилых домах, работает такая точка доступа независимо и необходимо настраивать отдельно. Такой режим обладает простыми функциями и имеет низкие затраты
    2. Fit AP
        Применяется для средних и крупных предприятий. Для работы таких точек доступа требуется контроллер доступа, через который осуществляется управление и настройка режима (Контроллер доступа необязательно аппаратный, может быть и программным)
    3. Облачное управление
        Оно применяется для малых и средних предприятий. Для единого управления и настройки требуется облачная платформа. Этот режим предоставляет различный набор функции и поддерживает автоматическую настройку и запуск в работу (технология plug and play) 
2. Контроллер доступа 
     Разворачивается на уровне агрегации всей сети, чтобы обеспечить высокоскоростные, безопасные и надёжные услуги беспроводной локальной сети. Контроллер доступа предоставляет услуги беспроводного управления данными с большой ёмкостью, высокой производительностью, надёжностью, простотой установки и обслуживания. Он обеспечивает гибкую организацию сети и энергосбережения. 

## Режимы передачи данных

Существуют три режима передачи:
- симплексный или односторонний (simplex mode),
- полудуплексный (half-duplex mode),
- дуплексный (full-duplex mode).

Симплексный режим позволяет передавать данные только в одном предварительно определенном направлении. В вычислительных сетях симплексная передача практически не используется, так как передатчик полностью занимает канал и не может получить подтверждение о приеме информации, что необходимо для обеспечения нормальной связи.

Полудуплексный режим допускает двустороннюю связь, но передача и прием ведутся по очереди, когда передатчик и приемник последовательно меняются местами. Для смены направления требуется подача специального сигнала и получение подтверждения.

Дуплексный режим допускает одновременную передачу и прием сообщений. Пример дуплексного режима - телефонный разговор. Дуплексный режим является наиболее скоростным режимом работы и позволяет эффективно использовать вычислительные возможности быстродействующих ЭВМ в сочетании с высокой скоростью передачи данных по каналам связи.

---
# 6. Виды коммутации
Коммутация - процесс соединения абонентов компьютерной сети через различные узлы связи. \
Типы коммутации:
1.  Коммутация каналов
    При коммутации каналов сеть образует между конечными узлами непрерывный составной физический канал, который состоит из последовательно соединённых коммутаторами промежуточных канальных участков. Условием образование единого канала является равенство скоростей в каждом из его составляющих каналов. Равенство скоростей означает, что коммутаторы не должны буферизировать передаваемые данные. \
    ***Плюсы***: 
    - Постоянная и известная скорость передачи данных
        Это даёт пользователю сети на основе заранее произведённой оценке установить в сети канал нужной скорости
    - Низкий и постоянный уровень задержки передачи данных, что позволяет качественно передавать данные, чувствительные к задержкам (трафик реального времени - голос, видео) \
    ***Минусы***:
    - Нерациональное использование пропускной способности физических каналов.
        Та часть пропускной способности, которая отводится составному каналу, даётся ему на всё время соединения, однако во время передачи данных могут возникать ситуации, когда канал будет простаивать (паузы в разговоре). Невозможность динамического распределения пропускной способности является принципиальным ограничением данной технологии, так как информационный поток в целом будет являться единицей коммутации. 
    - Отказ сети в обслуживание запроса на установление соединения (DoS)
        Такая ситуация может возникнуть из-за того, что на некотором участке нужно установить соединение вдоль канала, который уже нагружен максимально возможным количеством потоков (ситуация `Новый год`). И когда конечный абонент уже занят передачей данных с другим абонентом (ситуация `Занят`) 
    - Обязательная задержка перед передачей данных из-за фазы установления соединения 

2. Коммутация пакетов
    Это техника коммутации была специально разработана для эффективной передачи компьютерного трафика. Типичные сетевые приложения генерируют трафик очень неравномерно с высоким уровнем пульсации скорости передачи данных. При коммутации пакетов используются коммутаторы с буферизацией, а единицей коммутации являются пакеты, то есть небольшие фрагменты, на которые разбиваются исходные сообщения. Если необходимо связать двух конкретных абонентов, то необходимо использовать коммутацию каналов, однако при использовании коммутации пакетов повышается общий уровень пропускной способности сети в целом. Это доказано империческим(практическим) путём и с помощью иммитационного математического моделирования.  \
    ***Плюсы:*** 
    - Высокая общая пропускная способность сети при передачи пульсирующего трафика.
    - Возможность динамически перераспределять пропускную способность физических каналов между абонентами в соответствии с реальными потребностями \
    ***Сеть с коммутацией пакетов может генерировать следующие задержки:***
    1. На источнике данных
        1. Время на на инкапсуляцию и передачу заголовков  
        2. Задержки, вызванные интервалами между передачами следующего пакета (джиттер)
    2. На получателе
        1. Время на декапсуляцию  
        2. Время на сборку исходного сообщения
    3. Задержка на коммутаторе
        1. Время на буферизацию пакетов
        2. Время на коммутацию, которое складывается из времени ожидания пакета в очереди и времени перемещения пакета в исходящий порт (Зависит от состояния в сети, переменная величина) \
    ***Минусы***:
    - Неопределённость скорости передачи данных
    - Переменная величина задержки пакетов
    - Возможная потеря данных в случае переполнения буфера \
    В настоящее время используются методы, которые позволяют преодолеть указанные недостатки - это методы обеспечения качества обслуживания - ***QoS***. 
Сети с коммутацией пакетов в наше время используется, для того чтобы одновременно передавать  различные виды трафика с применением технологии QoS. Такие методы коммутации считаются сегодня самыми перспективными для создания конвергентных сетей, в которых обеспечивается комплексное, качественное обслуживание абонентов любого типа. \
Коммутации каналов, кроме традиционных телефонных сетей, широко применяется для образования высокоскоростных постоянных соединений в опорных сетях по технологиям SDH и DWDM.
3. Коммутация сообщений
    По своим принципа близка к коммутации пакетов, однако есть различия: 
    1. Буферизация происходит на транзитных компьютерах, точнее на их жёстких дисках. Количество этих транзитных компьютерах старались уменьшить, в идеале до двух штук.
    2. Сообщения имеют произвольную длину в отличии от пакетов, и определяется она не технологическими соображениями, а содержанием информации
    В сетях с коммутацией сообщений транзитные компьютеры могли связываться как сетью с коммутацией пакетов, так и с сетью с коммутацией каналов.
    Применялась данная технология в основном для электронной почты.

---
# 7. Источники стандартов. Типы сетей. 


В зависимости от статуса организаций различают следующие виды стандартов:
1. Стандарты отдельных фирм
    Например, стек протоколов DecNet от фирмы Dec
2. Стандарты специальных комитетов и объединений
    Fast Ethernet - стандартизовал специальный комитет Fast Ethernet Alliance 
    ATM - комитет ATM Forum
3. Национальные стандарты
    -  ANSI (American National Standart Institute) -> приняла стандарт FDDI
    -  Росстандарт выпускает ГОСТ 
4. Международный стандарт
    ISO - международная организация по стандартам -> модель OSI
Некоторые стандарты могут повысить свой класс за счёт популяризации и выхода на международный уровень. 
> Пример: Стандарт по архитектуре компьютера IBM  (от фирменного до международного)

Существует ещё одна национальная организация, вклад которой в развитие IT и сетей в частности невозможно переоценить: DoD  - Department of Depends - министерство обороны США -> (TCP/IP) 

Наиболее важные это стандарты четырех типов: 
- ISO – международная организация по стандартам. Данная организация приняла стандарт на эталонную модель открытых систем. 
- IEEE – институт инженеров по электроники и электротехники. Данная организация принимает стандарты на технологии передачи данных. 
- IAB – совет по архитектуре интернета. Данная организация принимает стандарты на протоколы интернет. 
- W3C – консорциум W3C. Данная организация принимает стандарты на протоколы используемые в WEB.

IEEE – данная организация принимает стандарты не только в области компьютерных сетей, но так же и в других областях электроники и электротехники. 

Комитеты участвующие в разработке стандартов для компьютерных сетей:
- 802.3 Ethernet
- 802.11 Беспроводные локальные сети (Wi-Fi)
- 802.15 Персональные сети (BlueTooth)

IAB – совет по архитектуре интернета. Данная организация делится на группы.
Группа исследования интернета (IRTF) – данная группа занимается долгосрочными
и перспективными исследованиями в области интернет.
Группа проектирования интернета (IETF) – данная группа занимается поддержкой
интернета и выпускает стандарты на сетевые протоколы.
Группа запросов и комментариев (RFC) – готовит документы RFC. Эти документы в
себе содержат описание протоколов интернет
## Типы сетей
### По охвату
- LAN -локальные
- MAN - городские
- WAN (Wide Area Network) - глобальные
Person Area Network (PAN) - персональная сеть, объединение устройств одного пользователя  
BAN Body Area Network - нательная сеть 
MBAN - медицинская нательная сеть 
WMBAN (Wireless medical BAN) - беспроводная медицинская нательная сеть 
Nano Network - применяется в биомедицине и в военных технологиях 
NFC (Near Field Communication) - Расстояние: 4 см, 4 Кб/с 
### По функциональному назначению:
- LPWAN (Low-Power WAN) - глобальная сеть малого энергопотребления
- IAN (Internet Area Network) - сеть без привязке к физическому месту, облачная сеть
- NAN (Near Area Network) - сеть близкого размещения 

---
# 8. Широковещательный и коллизионный домены 

Коммутатор образует широковещательный домен. 
**Широковещательный домен** - совокупность устройств, для которых справедливо следующее правило: если некоторый хост А отправляет в сеть широковещательную рассылку, а другой хост Б получает её, то они находятся в одном широковещательном домене. 

**Коллизионный домен** - ситуация в сети, когда 2 устройства бороться за 1 канал передачи данных и в случае одновременной пересылки данных может возникать наложение сигналов(коллизии). Коллизионный домен образуется с помощью мостового соединения либо, когда устройства соединены одним каналом передачи данных.

Исправление коллизии: Нужно просто случайным образом назначить таймауты (пусть оба подождут, но разное время). 

---
# 9. Многоуровневый подход. Протокол. Интерфейс. Стек протоколов. 

Основным приёмом при решение сложных задач является ***декомпозиция***, то есть разделение сложной задачи на несколько более простых задач - *модулей*. В результате чего достигается логическое упрощение задачи, а также появляется возможность модификации отдельных модулей без изменения остальной части системы. 
При декомпозиции используется многоуровневый подход, который заключается в следующий:
1. Всё множество модулей разбиваются на уровни, которые образуют иерархию 
2. Множество модулей, составляющих один уровень, сформировано таким образом, что для выполнения задач они обращаются только к модулям соседнего нижележащего уровня 
3. Результаты работы модулей, которые относятся к одному уровню, могут быть переданы только модулям соседнего вышележащего уровня. 
Такая иерархическая организация предполагает чёткое определение функций каждого уровня и интерфейса между ними.  

Благодаря такому подходу и появились OSI вместе с TCP/IP, и некоторые другие сетевые модели (у них же есть и свои стеки протоколов):
IPX/SPX
SDN

***Протокол*** - формализованные правила, определяющие последовательность и формат сообщений, которыми обмениваются сетевые компоненты, лежащие на одном уровне, но в разных узлах 

***Интерфейс*** - четко определенные правила и стандартизованные форматы сообщений с помощью которых модули, реализующие протоколы соседних уровней и находящиеся в одном узле, взаимодействуют друг с другом. 

**Стек протоколов** — это иерархически организованный набор сетевых протоколов, достаточный для организации взаимодействия узлов в сети. 

Протоколы работают в сети одновременно, значит работа протоколов должна быть организована так, чтобы не возникало конфликтов или незавершённых операций. Поэтому стек протоколов разбивается на иерархически построенные уровни, каждый из которых выполняет конкретную задачу — подготовку, приём, передачу данных и последующие действия с ними.

Примеры: стек протоколов модели OSI, стек протоколов модели TCP/IP

---
# 10( + 13, 14, 15). Модель OSI 

Сетевая модель OSI (англ. open systems interconnection basic reference model) - концептуальная модель, которая обобщает и стандартизирует представление средств сетевого взаимодействия в телекоммуникационных и компьютерных системах, независимо от их внутреннего устройства и используемых технологий. 

Модель OSI является эталонной модели, которая в жизни не используется, но к которой все стремятся.  

### <mark style="background: #FF5582A6;">1. Физический уровень</mark>
> Физический уровень имеет дело с **<mark style="background: #FF5582A6;">передачей битов по физическим каналам</mark>** связи(оптоволокно, витая пара, коаксиальный кабель, WiFi). 

К этому уровню имеют отношения характеристики физических сред передачи данных такие как: полоса пропускания, помехозащищённость, волновое сопротивление и т.д. На этом же уровне определяются характеристики электрических сигналов такие как: уровни напряжения и тока, сопротивление, тип кодирование и скорость передачи данных. Также на этом уровне определяются типы разъёмов и назначения каждого контакта. Функции физического уровня <mark style="background: #FF5582A6;">со стороны компьютера будет выполнять сетевой адаптер </mark>и последовательный порт(устарел, только консольный кабель). Как таковых протоколов на физическом уровне нет, но есть спецификация: 10-BASE-T, которая предполагает использование витой пары 3 категории с волновым сопротивление 100 Ом, с разъёмом RJ-45, длиной физического сегмента 100 м и т.д.
### <mark style="background: #FFB86CA6;">2. Канальный уровень</mark>
На физическом уровне передаются биты, однако при этом не учитывается, что в некоторых сетях, в которых линии связи используются попеременно, физическая среда передачи данных может быть занята, **<mark style="background: #FFB86CA6;">проверкой доступности среды передачи данных занимается канальный уровень</mark>**. Единицей передачи является <mark style="background: #FFB86CA6;">кадр</mark>. На канальном уровне используется ***<mark style="background: #FFB86CA6;">физическая адресация по MAC-адресам</mark>***. Основным устройством на канальном уровне является **<mark style="background: #FFB86CA6;">коммутатор</mark>**.  
Ещё важной задачей данного уровня является <mark style="background: #FFB86CA6;">реализация механизма обнаружения и коррекции ошибок</mark>. С помощью контрольной суммы на канальном уровне решается проблема искажения данных. Коррекция ошибки происходит с помощью повторной передачи кадра. 
Передача кадров между хостами на данном уровне происходит с помощью протоколов, которые поддерживаются <mark style="background: #FFB86CA6;">строго определённую топологию связи</mark>. 
Функции канального уровня <mark style="background: #FFB86CA6;">со стороны компьютера реализуются сетевыми адаптерами и драйверами</mark>. В глобальных сетях, которые редко обладают регулярной топологией, канальный уровень обеспечивает обмен данными между двумя соседними компьютерами, которые соединены индивидуальными линиями связи (P2P - Point to point)
Примером протокола канального уровня является **<mark style="background: #FFB86CA6;">протокол ARP</mark>**. 
### <mark style="background: #BBFABBA6;">3. Сетевой уровень</mark>
Единицей передачей данных является **<mark style="background: #BBFABBA6;">сетевой пакет</mark>**, используется **<mark style="background: #BBFABBA6;">IP адресация</mark>**, основным устройством является **<mark style="background: #BBFABBA6;">маршрутизатор</mark>**. 
Основная задача сетевого уровня: **<mark style="background: #BBFABBA6;">решение задачи маршрутизации</mark>**, то есть определение оптимального маршрута пути следования пакета. Другие задачи:
1. <mark style="background: #BBFABBA6;">Связь между сетями разных топологий и технологий</mark>. Чтобы с одной стороны сохранить простоту передачи данных типовых топологий, а с другой стороны допустить использование других топологий, вводится сетевой уровень.
2. На данном уровне может решаться задача <mark style="background: #BBFABBA6;">фильтрации трафика</mark>. С помощью маршрутизатора можно создать надёжные и гибкие барьеры на пути нежелательного трафика.
3. <mark style="background: #BBFABBA6;">Согласование разных типов адресации</mark>. 
На сетевом уровне существует два типа протоколов: протокол адресации (IP, ICMP), протокол маршрутизации (RIP, IS-IS, OSPF, BGP). Протоколы маршрутизации - это те протоколы, с помощью которых маршрутизаторы собирают информацию о топологии межсетевых соединений. Например, обмениваясь своими таблицами маршрутизации. 
Функции сетевого уровня будут реализовываться программными модулями операционной системы хоста и маршрутизатора.
### <mark style="background: #ABF7F7A6;">4. Транспортный уровень</mark>
Единицей передаче данных являются <mark style="background: #ABF7F7A6;">сегменты и дейтаграммы</mark>. Используется <mark style="background: #ABF7F7A6;">адресация по портам</mark>. <mark style="background: #ABF7F7A6;">Протоколы UDP и TCP</mark>. 
На пути от отправителя к получателю данные могут быть искажены или утеряны и, хотя некоторые функции по обнаружению и исправления ошибок могут быть на других уровнях. Именно транспортный уровень обеспечивает приложениям или верхним уровнем модели передачу данных с той степенью надёжностью, которая им требуется. 
Транспортный уровень предоставляет определённый класс сервиса, которые различаются по следующим характеристикам:
1. Срочность
2. Возможность восстановления прерванной связи
3. Наличие средств мультиплексирования нескольких соединений между различными прикладными протоколами через общий транспортный протокол. (Несколько потоков передаются одни протоколом транспортного уровня)
4. Способность к обнаружению и исправления ошибок передачи данных (Искажение данных, потеря данных, дублирования данных)
Для того, чтобы обнаружить ошибки используются следующие средства:
1. Контрольная сумма
2. Предварительное установление соединения
3. Циклическая нумерация сегментов
4. Установление тайм-аутов доставки
5. Подтверждение получения сегментов
6. Повторная передача сегментов
Транспортный уровень является промежуточным между сети зависимыми уровнями (нижние 3) и сети независимыми  уровнями (верхние 3)
### <mark style="background: #ADCCFFA6;">5. Сеансовый уровень</mark>
<mark style="background: #ADCCFFA6;">Обеспечивает управление диалогом,</mark> то есть фиксирует какая из сторон является активной, и<mark style="background: #ADCCFFA6;"> предоставляет средства синхронизации</mark>. Средства синхронизации предоставляют собой контрольные точки, для восстановления диалога.
В жизни <mark style="background: #ADCCFFA6;">протоколов сеансового уровня очень мало (SMP, RPC), поскольку функции сеансового уровня берут на себя протоколы либо транспортного, либо прикладного уровня</mark>.
### <mark style="background: #FFB8EBA6;">6. Уровень представлений</mark>
Данный уровень имеет дело <mark style="background: #FFB8EBA6;">с формой представления передаваемой по сети информацией, не меняя при этом её содержания</mark>. За счёт данного уровня информация, передаваемая прикладным уровнем одной системы будет всегда понятна прикладному уровню другой системы. Также на этом уровне происходит <mark style="background: #FFB8EBA6;">шифрование</mark> и <mark style="background: #FFB8EBA6;">дешифрование</mark>, повышая её безопасность.<mark style="background: #FFB8EBA6;"> Примером протоколов является SSL</mark>. 
### <mark style="background: #D2B3FFA6;">7. Прикладной уровень/уровень приложений</mark>
Единицей передачей данных будет<mark style="background: #D2B3FFA6;"> PDU, а также сообщения или данные</mark>. Прикладной уровень является<mark style="background: #D2B3FFA6;"> набором разнообразных протоколов</mark>, с помощью которых пользователь получает доступ к разделяемым ресурсам, а также организует свою совместную работу.
```mermaid
graph TD;
    Уровни --> Сетизависимые
    Уровни --> id[["Транспортный уровень"]]
    Уровни --> Сетинезависымые
```

---
# 11. Стандартные топологии сетей 

![[Pasted image 20241016093051.png]] 
#### 1. Полносвязная
> Каждый узел связан с каждым отдельным каналом передачи данных. Каждый с каждым.

Плюсы:
- Высокая отказоустойчивость (достаточно много запасных маршрутов)
- Скорость обмена данных \
Минусы:
- Экономически неэффективна (много провод и доп. сетевые адаптеры для каждого узла) 
- Масштабируемость крайне низкая \
Используется крайне редко и в очень маленьких сетях.
#### 2. Ячеистая
>Из полносвязной путём удаления избыточных связей, прямые каналы передачи данных остаются только те, по которым происходит интенсивный обмен данными.  \

Плюсы и минусы такие же, как у полносвязной, но чуть ослаблены \
На ранних стадиях развития сетей данная топология могла использоваться для создания глобальных сетей.
#### 3. Общая шина
 > Компьютеры подключаются к общему кабелю по схеме монтажного или. Передаваемая информация будет распространяться в обе стороны \

Плюсы: 
- Снижает стоимость проводки 
- Унифицирует подключение новых модулей (Высокая масштабируемость)
- Обеспечение почти мгновенного широковещательного(broadcast) обращения ко всем компьютерам в сети
Минусы:
- Низкая надёжность и отказоустойчивость (любой дефект кабеля или одного из многочисленных разъёмов полностью парализует сеть)
- Низкая производительность сети
- Низкая безопасность 
- Возможность образования коллизий 
#### 4.  Кольцевая топология
> Соответствует сети, в которой компьютеры, соединяясь, образуют замкнутый контур, движение по кольцу происходит в одном направлении, если компьютер распознаёт данные как свои, то он копирует их в свой внутренний буфер, если как чужие, то двигает дальше по кольцу

Плюсы: 
- Не имеет особых ограничений по числу абонентов, сеть может содержать более 1000 компьютеров, поскольку каждый из них усиливает сигнал, а общая длина кольца может достигать десятков км. Длина кольца будет формально ограничена только пропускной способностью каналов и времени прохождения сигнала по нему
- Лёгкая диагностика неполадок в сети (если данные вернулись к отправителю, то значит к получателю не дошли; тестовые пакеты отправляются по кольцу и отслеживается, где они теряются)
Минусы:
- Низкая масштабируемость (Добавление новых элементов достаточно сложная)
- Низкая безопасность 
- Неоднозначная отказоустойчивость и надёжность
#### 5. Активная звезда
Топология звезда соответствует сети, в которой каждый хост будет включаться отдельным кабелем к общему устройству, которая находиться в центре сети. Чаще всего таким устройством является коммутатор. Данное устройство будет перенаправлять информацию, то есть управлять передачей данных, кроме того центральное устройство может служить интеллектуальным фильтром и при необходимости блокировать запрещённые администратором передачи данных. Особенности:
1. Существенно больше надёжность, чем в топологии шина, однако меньше, чем в других топологиях. Если центральное устройство аварийно завершает свою работу, то вся сеть перестаёт работать.
2. Сложность и стоимость центрального устройства при простоте и дешевизне абонентских. 
3. Ограничение по числу абонентов. Количество подключаемых устройств зависит от количества портов на центральном устройстве. Данное ограничение можно преодолеть посредством подключения других коммутаторов, таким образом получается топология ***иерархическая звезда или по-другому дерево.*** 
Кроме активной звезды есть и ***пассивная звезда***. Она отличается тем, что в центре нет какого либо активного устройства, там просто идёт соединение проводов, что фактически нам даёт общую шину. 
#### 6. Гибридная
На данный момент самой популярной является гибридная, она же смешанная топология, которая за счет преимущества одних топологий будет снижать недостатки других. 

---
# 12. Модель TCP\IP 

![[Pasted image 20250106153437.png]]
Стандартная модель TCP/IP состоит из 4 уровней. 
Cегодня используется Эквивалентная модель TCP/IP, т.к стандартная устарела. Эквивалентная также имеет названия уровней, как в модели OSI. 

![[Pasted image 20250106153758.png]]

---
# 13. Сетезависимые уровни модели OSI 

### <mark style="background: #FF5582A6;">1. Физический уровень</mark>
> Физический уровень имеет дело с **<mark style="background: #FF5582A6;">передачей битов по физическим каналам</mark>** связи(оптоволокно, витая пара, коаксиальный кабель, WiFi). 

К этому уровню имеют отношения характеристики физических сред передачи данных такие как: полоса пропускания, помехозащищённость, волновое сопротивление и т.д. На этом же уровне определяются характеристики электрических сигналов такие как: уровни напряжения и тока, сопротивление, тип кодирование и скорость передачи данных. Также на этом уровне определяются типы разъёмов и назначения каждого контакта. Функции физического уровня <mark style="background: #FF5582A6;">со стороны компьютера будет выполнять сетевой адаптер </mark>и последовательный порт(устарел, только консольный кабель). Как таковых протоколов на физическом уровне нет, но есть спецификация: 10-BASE-T, которая предполагает использование витой пары 3 категории с волновым сопротивление 100 Ом, с разъёмом RJ-45, длиной физического сегмента 100 м и т.д.
### <mark style="background: #FFB86CA6;">2. Канальный уровень</mark>
На физическом уровне передаются биты, однако при этом не учитывается, что в некоторых сетях, в которых линии связи используются попеременно, физическая среда передачи данных может быть занята, **<mark style="background: #FFB86CA6;">проверкой доступности среды передачи данных занимается канальный уровень</mark>**. Единицей передачи является <mark style="background: #FFB86CA6;">кадр</mark>. На канальном уровне используется ***<mark style="background: #FFB86CA6;">физическая адресация по MAC-адресам</mark>***. Основным устройством на канальном уровне является **<mark style="background: #FFB86CA6;">коммутатор</mark>**.  
Ещё важной задачей данного уровня является <mark style="background: #FFB86CA6;">реализация механизма обнаружения и коррекции ошибок</mark>. С помощью контрольной суммы на канальном уровне решается проблема искажения данных. Коррекция ошибки происходит с помощью повторной передачи кадра. 
Передача кадров между хостами на данном уровне происходит с помощью протоколов, которые поддерживаются <mark style="background: #FFB86CA6;">строго определённую топологию связи</mark>. 
Функции канального уровня <mark style="background: #FFB86CA6;">со стороны компьютера реализуются сетевыми адаптерами и драйверами</mark>. В глобальных сетях, которые редко обладают регулярной топологией, канальный уровень обеспечивает обмен данными между двумя соседними компьютерами, которые соединены индивидуальными линиями связи (P2P - Point to point)
Примером протокола канального уровня является **<mark style="background: #FFB86CA6;">протокол ARP</mark>**. 
### <mark style="background: #BBFABBA6;">3. Сетевой уровень</mark>
Единицей передачей данных является **<mark style="background: #BBFABBA6;">сетевой пакет</mark>**, используется **<mark style="background: #BBFABBA6;">IP адресация</mark>**, основным устройством является **<mark style="background: #BBFABBA6;">маршрутизатор</mark>**. 
Основная задача сетевого уровня: **<mark style="background: #BBFABBA6;">решение задачи маршрутизации</mark>**, то есть определение оптимального маршрута пути следования пакета. Другие задачи:
1. <mark style="background: #BBFABBA6;">Связь между сетями разных топологий и технологий</mark>. Чтобы с одной стороны сохранить простоту передачи данных типовых топологий, а с другой стороны допустить использование других топологий, вводится сетевой уровень.
2. На данном уровне может решаться задача <mark style="background: #BBFABBA6;">фильтрации трафика</mark>. С помощью маршрутизатора можно создать надёжные и гибкие барьеры на пути нежелательного трафика.
3. <mark style="background: #BBFABBA6;">Согласование разных типов адресации</mark>. 
На сетевом уровне существует два типа протоколов: протокол адресации (IP, ICMP), протокол маршрутизации (RIP, IS-IS, OSPF, BGP). Протоколы маршрутизации - это те протоколы, с помощью которых маршрутизаторы собирают информацию о топологии межсетевых соединений. Например, обмениваясь своими таблицами маршрутизации. 
Функции сетевого уровня будут реализовываться программными модулями операционной системы хоста и маршрутизатора.

---
# 14. Сетенезависимые уровни модели OSI 

### <mark style="background: #ADCCFFA6;">5. Сеансовый уровень</mark>
<mark style="background: #ADCCFFA6;">Обеспечивает управление диалогом,</mark> то есть фиксирует какая из сторон является активной, и<mark style="background: #ADCCFFA6;"> предоставляет средства синхронизации</mark>. Средства синхронизации предоставляют собой контрольные точки, для восстановления диалога.
В жизни <mark style="background: #ADCCFFA6;">протоколов сеансового уровня очень мало (SMP, RPC), поскольку функции сеансового уровня берут на себя протоколы либо транспортного, либо прикладного уровня</mark>.
### <mark style="background: #FFB8EBA6;">6. Уровень представлений</mark>
Данный уровень имеет дело <mark style="background: #FFB8EBA6;">с формой представления передаваемой по сети информацией, не меняя при этом её содержания</mark>. За счёт данного уровня информация, передаваемая прикладным уровнем одной системы будет всегда понятна прикладному уровню другой системы. Также на этом уровне происходит <mark style="background: #FFB8EBA6;">шифрование</mark> и <mark style="background: #FFB8EBA6;">дешифрование</mark>, повышая её безопасность.<mark style="background: #FFB8EBA6;"> Примером протоколов является SSL</mark>. 
### <mark style="background: #D2B3FFA6;">7. Прикладной уровень/уровень приложений</mark>
Единицей передачей данных будет<mark style="background: #D2B3FFA6;"> PDU, а также сообщения или данные</mark>. Прикладной уровень является<mark style="background: #D2B3FFA6;"> набором разнообразных протоколов</mark>, с помощью которых пользователь получает доступ к разделяемым ресурсам, а также организует свою совместную работу.

---
# 15. Транспортный уровень модели OSI. 

### <mark style="background: #ABF7F7A6;">4. Транспортный уровень</mark>
Единицей передаче данных являются <mark style="background: #ABF7F7A6;">сегменты и дейтаграммы</mark>. Используется <mark style="background: #ABF7F7A6;">адресация по портам</mark>. <mark style="background: #ABF7F7A6;">Протоколы UDP и TCP</mark>. 
На пути от отправителя к получателю данные могут быть искажены или утеряны и, хотя некоторые функции по обнаружению и исправления ошибок могут быть на других уровнях. Именно транспортный уровень обеспечивает приложениям или верхним уровнем модели передачу данных с той степенью надёжностью, которая им требуется. 
Транспортный уровень предоставляет определённый класс сервиса, которые различаются по следующим характеристикам:
1. Срочность
2. Возможность восстановления прерванной связи
3. Наличие средств мультиплексирования нескольких соединений между различными прикладными протоколами через общий транспортный протокол. (Несколько потоков передаются одни протоколом транспортного уровня)
4. Способность к обнаружению и исправления ошибок передачи данных (Искажение данных, потеря данных, дублирования данных)
Для того, чтобы обнаружить ошибки используются следующие средства:
1. Контрольная сумма
2. Предварительное установление соединения
3. Циклическая нумерация сегментов
4. Установление тайм-аутов доставки
5. Подтверждение получения сегментов
6. Повторная передача сегментов
Транспортный уровень является промежуточным между сети зависимыми уровнями (нижние 3) и сети независимыми  уровнями (верхние 3)

---
# 16. Уровень приложений модели TCP\IP 

![[Pasted image 20250106160604.png]]
![[Pasted image 20250106160617.png]]
![[Pasted image 20250106160647.png]]

---
# 17. TCP и UDP – форматы заголовков 

![[Pasted image 20250106162356.png]]

### Заголовок TCP состоит из следующих полей: 
1. Порт источника и порт назначения по 16 бит, каждый. Эти поля идентифицирует приложения, которые отправляют и принимают сегменты. На адресном уровне происходит ***адресация по портам***. Порт представляет собой 16-разрядное без знаковое целое число (0 - 65535). Первые 1024 порта зарезервированные под наиболее популярные сетевые приложения и службы, остальные доступны для общего использования называются динамическими или эмфимерными. Зарезервированные на входящий трафик, динамические - на исходящий.
2. Порядковый номер - 32 бита. Каждый байт отправляемый через TCP соединение имеет свой порядковый номер. Значение этого поля указывает на номер первого байта в отправляемом сегменте. 
3. Номер подтверждение - 32 бита. Это порядковый номер первого байта следующего сегмента, который ожидается для получения. Значение этого поля равно порядкового номеру последнего байта, полученного в предыдущем сегменте и увеличенного на единицу
4. Длина заголовка - 4 бита. Показывает количество 32-битных (4 байта) блоков в заголовке. 
5. Поле резерв - 6 бит. 6 нулей
6. Биты управления - 6 бит. Показывает состояние TCP соединение. Существует следующие флаги:
    1. URG - Указатель срочности. Показывает приоритет сегмента
    2. PSH - Выталкивает данные из очереди в буфере. 
    3. ACK - Подтверждает получение данных
    4. RST - Сбрасывает TCP соединения по завершению или после разрыва
    5. SYN - Синхронизирует соединение хостов
    6. FIN - Завершает TCP соединение
7. Окно - 16 бит. Используется для управления потоком TCP. Значение данного поля показывает максимальное количество байт, которое получатель разрешил отправлять ему (макс. 65535)
8. Контрольная сумма - 16 бит. Некое число, чтобы понимать искаженно ли содержимое или не
т.
9. Указатель срочности - 16 бит. Данное поле действует только, если установлен флаг URG. Это поле показывает, что отправитель передаёт данные в аварийном режиме. Значение поля указывает на то, сколько срочных байт находится в сегменте. (Срочные данные обычно в начале сегмента)
10. Опции (необязательное поле) - от 0 до 40 байт. 

---
# 18. Описание TCP-соединения 

### TCP соединение состоит из трёх этапов
1. Трёхстороннее рукопожатие 
2. Передача данных
3. Четырёхстороннее рукопожатие. Поскольку TCP соединение работает в режиме duplex, появляется 4-е рукопожатие.

![[Pasted image 20241219185508.png]]
![[Pasted image 20241219185443.png]]
![[Pasted image 20241219185456.png]]

---
# 19. Уровень канала данных модели TCP\IP 

![[Pasted image 20250106195954.png]]
Ethernet - является протоколом широковещательного множественного доступа, работающего на уровне канала данных. 
**MAC - адресация**

---
# 20. Принципы реализации ARP 

**ARP** - протокол определения адреса: обнаруживает MAC-адрес. связанный с указанным IP адресом

![[Pasted image 20250106201112.png]]
![[Pasted image 20250106201140.png]]
![[Pasted image 20250106201200.png]]
![[Pasted image 20250106201248.png]]
![[Pasted image 20250106201307.png]]

---
# 21. Физический уровень модели TCP\IP. Виды и характеристики сигналов.

![[Pasted image 20250107204330.png]]
![[Pasted image 20250107204412.png]]![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXdD1r57cXhpx8w_Oi34p6or9gYy7jqyQ8xMmZwy-fNyyZ3yft_rxFzJE9QTQWL5ORXGTvXUF7tdFEw9BVhjzXajzfwtjiHF-cz7BKRjCkQmlId9OAs92Ql9YrPkAfCHVHY80kaoxA?key=-VstSc6CVhoTIAOsERPWS-mY)
![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXctO9MtcwGviLpRgGHJ6k13qfC-CE6rZkvPfXUc9jkYcAX93cQ3cSJ0embSGMsEP0DAD--6_QLPCiXJhjxKrPdKwYTFNlvVy0MgP3sCQZvoskLBtiRrfmjpuew9G9WLlLLRSfE7zw?key=-VstSc6CVhoTIAOsERPWS-mY)

---
# 22. Интернет-протокол и IP-адресация 

![[Pasted image 20250107210730.png]]
![[Pasted image 20250107211304.png]]

---
# 23. Формат пакета IPv.4 

Стандартный размер пакетов IPv4 20 байт без опциональной части (она 0-40 байт). 
![[Pasted image 20241129112829.png]]
### Заголовок пакетов состоит из следующих полей:
- **Версия**: длина 4 бита
- **Длина заголовка**: длина 4 бита - указывает размер заголовка в 32-битных блоках. Стандартный заголовок 20 байт будет возвращать значение 5.
- **Тип сервиса** - данное поле необходимо для дифференцирования услуг QoS. Размер поля 8 бит. Это поле разделено на два подполя. Первое - это приоритет пакета, 3 бита. Нулевой приоритет - это самый обычный, седьмой - самый высокий приоритет. Следующие 3 бита образуют подполе критерия выбора маршрута: D -  по минимальной задержке, T - по максимальной пропускной способности, R - по максимальной надёжности. Выбирается обычно один бит из этих трёх, редко, когда 2, 3 - бесполезно. Оставшиеся два бита в этом поле зарезервированы и равны 0. 
- **Общая длина** - размер 16 бит, означает общую длину пакета с учётом заголовка и данных, значение измеряется в байтах. Максимальный размер пакета: 65535 байт. В основном используется пакеты размером 576 байт и меньше, однако даже эти пакеты не всегда вмещаются в пропускную способностью. Следующие три поля нужны при фрагментации пакетов. 
    ***Фрагментация*** - процесс разделения пакета на несколько частей, если он не вмещается в пропускную способность канала передачи данных
- **Идентификатор** - занимает 16 бит, используется для распознавании пакетов на получателе. Все фрагменты исходного пакета должны иметь одинаковое значение данного поля. 
- **Флаги** - размер 3 бита, определяет контроль над фрагментацией. Первый бит зарезервирован, всегда 0. Второй бит - нефрагментировать, единица в этом бите означает, что фрагментация запрещена, а 0 - разрешена. Третий - "У пакета есть ещё фрагмент", 1 - за текущем фрагментом есть ещё фрагменты, 0 - это последний фрагмент.
- **Смещение фрагментов** - длина 13 бит, указывает на относительное положение фрагмента в исходном пакете. Смещение должно быть кратно 8-ми байтам. 
- **TTL** - время жизни пакета, длина 8 бит, измеряется в хопах. Максимум 255 хопов. 
- **Протокол** - длина 8 бит, указывает на протокол, который будет обрабатывать данные на получателе, после того, как их обработает IP протокол. (например, ICMP - 1, TCP - 6, UDP - 17)
- **Контрольная сумма** - 16 бит, проверить целостность данных в пакете
- **IP адрес источника** - 32 бита
- **IP адрес получателя** - 32 бита
- **Опции** - кратно 32 бита, поле опции является необязательным и используется при отладке сети. В опциях можно указать точный маршрут, то есть регистрировать проходимые пакетом маршрутизаторы, также можно указывать данные системы безопасности и временные метки. 
- **Выравнивание** - Если информация в поле опции не кратно 32 битам, то соответствующее количество нулей записывается в это поле.  

---
# 24.  Типы и классы IP-адресов 

IPv4 адреса можно классифицировать различными способами:
1. Классы A,B,C,D,E
    Сетей класса C больше чем сетей класса А, однако хостов больше в сетях класса А. Это объясняется тем, что сетевая часть в сетях класса А 8 бит, а хостовая 24, тогда как у сетей класса C сетевая часть 24 бита, а хостовая 8
![[Pasted image 20241222141015.png]]
2. Частные и публичные IP адреса (Серые и белые)
    Публичный адрес (белый) используется в сети Интернет, является уникальным и дублировать его нельзя. Серые адреса используется  в локальной сети, в сети Интернет их использовать нельзя, серый IP адрес может повторяться, но в разных локальных сетях. Для того чтобы отсрочить момент исчерпания IPv4 были созданы два костыльных решения. Во-первых, это ***серый адреса***, во-вторых протокол ***NAT***, который позволяет транслировать белые адреса в серые и наоборот.
3. UNICAST, MULTICAST (Групповые), BROADCAST (Широковещательные)
Существуют специальные IP адреса, которые не относятся не к одной классификации. 
1. **Ограниченный широковещательный адрес - 255.255.255.255** - Может использоваться только в качестве получателя, область действия ограничивается шлюзом 
2. **Любой IP адрес - 0.0.0.0** - Может использоваться только в качестве отправителя. Если интерфейс хоста не получает свой IP адрес во время запуска, то он отправляет запрос к DCHP серверу, где в качестве адреса отправителя указывает данный IP адрес, ожидается, что DHCP сервер назначит доступный IP адрес данному хосту. Второй вариант использование в качестве статического маршрута по умолчанию. На серверах этот IP адрес даёт команду прослушивать и принимать соединение с любого IP адреса. На клиентских устройствах данный IP адрес указывает на то, что клиент не подключён к сети в TCP/IP и это устройство работает в автономном режиме. 
3. **Loopback/localhost - 127.0.0.0/8** - Localhost работает с так называемым кольцевым трафиком. Этот трафик генерируется локальным хостом и не выходит за его пределы. Данные адрес может использоваться как отправитель, так и получатель. Такой кольцевой трафик нужен для тестирования ПО на самом локальном устройстве. 
4. **Link-local - 169.254.0.0/16** - Данный диапазон используется для указания адреса отправителя, в том случае, если в сети нет DHCP сервера или с ним есть какие-то проблемы. Данный адрес используется для временной связи. 

---
# 25. Организация подсетей 

![[Pasted image 20250108125431.png]]
![[Pasted image 20250108125519.png]]
![[Pasted image 20250108125530.png]]
![[Pasted image 20250108125558.png]]
![[Pasted image 20250108125609.png]]


---
# 26. IPv.6

Преимущества:
![[Pasted image 20250108130307.png]]

![[Pasted image 20250108130332.png]]
Заголовок IPv6 - 40 байт
Включает в себя следующие поля:
1. **Поле версии:** размер 4 бита(значение: 6)
2. **Класс трафика:** длина 8 бит - указывает класс и приоритет пакета(похож на поле: тип сервиса в IPv4), используется в основном для управления QoS
3. **Fow Label** - метка потока - новое поле, которго не было в IPv4. Это поле нужно для того, чтобы различать трафик реального времени. Метка потока и ip-адрес источника вместе могут иденцифицировать уникальной поток данных.
4. **Payload Length** - длина полезной нагрузки(из Total Length - IHL(IPv4)) -  длина 16 бит, указывает размер ПДУ(единица передачи информации для верхнего уровня)
5. **Next Header -**  размер 8 бит, соответствует полю "Протокол" в IPv4.
6. **Hop Limit -** длина 8 бит, соответствует полю TTL в IPv4.(255 прыжков)
7. **Адрес отправителя и адрес получателя** - по 128 бит.

![[Pasted image 20250108130427.png]]
![[Pasted image 20250108130459.png]]
![[Pasted image 20250108130614.png]]
Деление адресов IPv6:
1. Индивидуальные адреса - **unicast** - идентифицируют 1 интерфейс устройства. Пакеты, отправленные на этот адрес доставляются только на этот интерфейс
    Среди индивидуальных есть уникальные:
    1. Ɐ (любой): 0000:0000:0000:0000:0000:0000:0000:0000/128 - ::/128
    2. LoopBack: 0000:0000:0000:0000:0000:0000:0000:0001/128 - ::1/128
    localhost нету не нужен
2. Многоадресные адреса - **multicast** - идентифицирует группу интерфейсов. Пакеты доставляются всем участникам группы рассылки.
3. Произвольные адреса - **anycast** - позволяют адресовать группу интерфейсов, однако, в отличие от multicast адресов, пакеты, посылаемые на произвольный адрес, доставляются хотя-бы на 1 из адресов группы рассылки (обычно на ближайший)

**!Broadcast адресов в IPv6 НЕТ!**

---